{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2>Submit a Testimonial</h2>

    <!-- Form is initially visible -->
    <form method="POST" id="testimonialForm">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="content">Your Testimonial</label>
            {{ form.content }}
        </div>
        
        <div class="form-group">
            <label for="rating">Rating</label>
            {{ form.rating }}
        </div>
        
        <button type="submit" class="btn btn-primary">Submit Testimonial</button>
    </form>

    <!-- This div will hold the success message and the return home button, initially hidden -->
    <div id="testimonialMessage" class="mt-3" style="display:none;">
        <p>Your testimonial has been sent for approval!</p>
        <a href="{% url 'home' %}" class="btn btn-success mt-3">Return to Home</a>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/testimonial.js' %}"></script>  <!-- Ensure JS is included -->
{% endblock %}
